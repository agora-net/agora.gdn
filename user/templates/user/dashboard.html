{% extends "base.html" %}
{% load user %}
{% block base_content %}
    <div class="p-4 lg:p-8">
        <div class="container mx-auto flex flex-col gap-8 lg:gap-16">
            <div class="h-12 lg:h-16 flex justify-center lg:justify-start items-center ">
                {% include "logo/agora.svg" with class="h-full w-fit fill-secondary" %}
            </div>
            <div class="p-4 ">{% include "user/includes/profile.html" with user=user %}</div>
            <div class="flex flex-col gap-8 ">
                <h1 class="text-lg font-bold">Your Dashboard</h1>
                <div class="bg-base-100 p-4 rounded-lg ">
                    <div class="flex flex-col max-w-2xl mx-auto">
                        <form id="profile_form"
                              class="grid grid-cols-1 md:grid-cols-3 xl:grid-cols-5 gap-4">
                            {% csrf_token %}
                            {% for group, config in form.field_groups.items %}
                                <div class="col-span-1">
                                    <h3 class="font-bold">{{ config.title }}</h3>
                                    <p class="text-sm">{{ config.help_text }}</p>
                                </div>
                                <div class="col-span-1 md:col-span-2 xl:col-span-4">
                                    {% for field_name in config.fields %}
                                        {% with field=form|get_attribute:field_name %}{{ field }}{% endwith %}
                                    {% endfor %}
                                </div>
                            {% endfor %}
                        </form>
                        <button for="profile_form"
                                type="submit"
                                class="btn btn-primary w-full md:w-auto self-end">Save Changes</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock base_content %}
