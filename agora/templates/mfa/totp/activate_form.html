{% extends "mfa/totp/base.html" %}
{% load allauth i18n %}
{% block head_title %}
    {% translate "Activate Authenticator App" %}
{% endblock head_title %}
{% block progress %}
    <ul class="steps steps-horizontal">
        <li class="step step-secondary">{% trans "Register" %}</li>
        <li class="step step-secondary">
            <span class="hidden lg:block">{% trans "Enable MFA" %}</span>
            <span class="lg:hidden">{% trans "MFA" %}</span>
        </li>
        <li class="step">{% trans "Subscribe" %}</li>
        <li class="step">
            <span class="hidden lg:block">{% trans "Verify Identity" %}</span>
            <span class="lg:hidden">{% trans "Verify" %}</span>
        </li>
    </ul>
{% endblock progress %}
{% block content %}
    {% element h1 %}
    {% translate "Activate Authenticator App" %}
{% endelement %}
{% element p %}
{% blocktranslate %}To protect your account with two-factor authentication, scan the QR code below with your authenticator app. Then, input the verification code generated by the app below.{% endblocktranslate %}
{% endelement %}
{% url 'mfa_activate_totp' as action_url %}
{% element form form=form method="post" action=action_url %}
{% slot body %}
<div class="bg-white w-fit mx-auto">
    {% element img src=totp_svg_data_uri alt=form.secret tags="mfa,totp,qr" %}
{% endelement %}
</div>
{% csrf_token %}
{% element field id="authenticator_secret" type="text" value=form.secret disabled=True %}
{% slot label %}
{% translate "Authenticator secret" %}
{% endslot %}
{% slot help_text %}
{% translate "You can store this secret and use it to reinstall your authenticator app at a later time." %}
{% endslot %}
{% endelement %}
{% element fields form=form %}
{% endelement %}
{% endslot %}
{% slot actions %}
{% element button type="submit" %}
{% trans "Activate" %}
{% endelement %}
{% endslot %}
{% endelement %}
{% endblock content %}
